<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>阿SFAG的个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="阿SFAG的个人博客">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="阿SFAG的个人博客">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="shangguandanyu">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="阿SFAG的个人博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">阿SFAG的个人博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-工程间服务调用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/%E5%B7%A5%E7%A8%8B%E9%97%B4%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.816Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="工程间服务调用"><a href="#工程间服务调用" class="headerlink" title="工程间服务调用"></a>工程间服务调用</h1><p>SoaSdk：封装了公共需要调用的服务端和持久化对象</p>
<p>服务（service）端：</p>
<p>客户（Client）端：</p>
<p>@SoaServiceClient(name&#x3D;”调用的工程”，interfaceNmae&#x3D;”目标服务端“) </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/%E5%B7%A5%E7%A8%8B%E9%97%B4%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8/" data-id="cl4vgwma4000mu8gv4ktqdoz2" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-数据结构与算法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.816Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="数据结构与算法（java）"><a href="#数据结构与算法（java）" class="headerlink" title="数据结构与算法（java）"></a>数据结构与算法（java）</h1><h3 id="数据结构与算法概述"><a href="#数据结构与算法概述" class="headerlink" title="数据结构与算法概述"></a>数据结构与算法概述</h3><p>程序&#x3D;数据结构+算法</p>
<h5 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h5><p>定义</p>
<ul>
<li>把数据元素按照一定的关系组织起来的集合，用来组织和存储数据</li>
</ul>
<h5 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h5><ol>
<li><p><strong>逻辑结构</strong></p>
<p>逻辑结构是从具体问题中抽象出来的模型，是抽象意义上的结构，按照对象中数据元素之间的相互关系分类</p>
<p>可分为</p>
<ul>
<li><p><strong>集合结构</strong>：集合中元素除了属于同一个集合以外，不再有其他的任何关系</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211203174213957.png" alt="image-20211203174213957"></p>
</li>
<li><p><strong>线性结构</strong>：线性结构中的元素之间存在一对一的关系</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211203174544793.png" alt="image-20211203174544793"></p>
</li>
<li><p><strong>树形结构</strong>：树形结构中的元素存在一对多的关系</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211203174554010.png"></p>
</li>
<li><p><strong>图形结构</strong>：图形结构中的元素存在多对多的关系</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211203174618818.png" alt="image-20211203174618818"></p>
</li>
</ul>
</li>
<li><p><strong>物理结构</strong></p>
<p>定义：是逻辑结构在计算机中真正的表现方式（又称为映像），也可以叫做存储结构，常见的存储结构有顺序存储结构、链式存储结构</p>
<ul>
<li><p>顺序存储结构</p>
<p>​	把数据元素存储在地址连续的存储单元里，其数据间的逻辑关系和物理关系是一致的，比如常用的数组就是顺序存储结构</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
</table>
<p>缺点：对添加或删除操作不太方便，此时就需要链式存储结构</p>
</li>
<li><p>链式存储结构</p>
<p>​		是把数据元素放在任意的存储单元里，这组数据可以是连续的也可以是不连续的，此时，数据元素之间并不能反映元素间的逻辑关系，因此在链式存储结构中引进了一个指针存放数据元素的地址，这样通过地址就可以找到相关联数据的位置</p>
</li>
</ul>
</li>
</ol>
<h3 id="算法分析"><a href="#算法分析" class="headerlink" title="算法分析"></a>算法分析</h3><p>​		官方解释：算法是指解题方案的准确而完整的描述，是一系列解决问题的清晰指令，算法代表着用系统的方法解决问题的策略机制。也就是所，能够对一定规范的输入，在一定时间内获得所要求的结果</p>
<p>​		算法就是根据一定的条件，对已有的数据进行计算，得到需要的结果</p>
<ul>
<li>花费最少的时间完成需求</li>
<li>占用最少的内存空间完成需求</li>
</ul>
<h5 id="时间复杂度分析"><a href="#时间复杂度分析" class="headerlink" title="时间复杂度分析"></a>时间复杂度分析</h5><ul>
<li><p>算法函数中的常数可以忽略</p>
</li>
<li><p>算法函数中最高次幂的常数因子可以忽略</p>
</li>
<li><p>随着输入规模的增大，与最高次项的相乘的常数可以忽略</p>
</li>
<li><p>算法函数中最高次幂越小，算法效率越高</p>
</li>
</ul>
<h5 id="大O记法"><a href="#大O记法" class="headerlink" title="大O记法"></a>大O记法</h5><p>规则：</p>
<ol>
<li><p>用常数1取代运行次数中所有的加法常数</p>
</li>
<li><p>在修改后的运行次数中，只保留高阶项</p>
</li>
<li><p>如果最高阶项存在，且常数因子不为1，则去除与这个项相乘的常数</p>
<p>例：</p>
<ul>
<li>算法一：3—&gt;O(1)</li>
<li>算法二：n+3—&gt;O(n)</li>
<li>算法三：n<del>2+2—&gt;O(n</del>2)</li>
</ul>
</li>
</ol>
<h5 id="空间复杂度分析"><a href="#空间复杂度分析" class="headerlink" title="空间复杂度分析"></a>空间复杂度分析</h5><p>描述算法对内存的占用</p>
<p>java中常见的内存占用</p>
<ul>
<li><p>基本数据类型内存占用情况</p>
<table>
<thead>
<tr>
<th align="center">数据类型</th>
<th align="center">内存占用字节</th>
</tr>
</thead>
<tbody><tr>
<td align="center">byte</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">short</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">int</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">boolean</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">float</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">char</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">double</td>
<td align="center">8</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><h5 id="comparable接口"><a href="#comparable接口" class="headerlink" title="comparable接口"></a>comparable接口</h5><p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211205150113199.png" alt="image-20211205150113199"></p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211205150202489.png" alt="image-20211205150202489"></p>
<h4 id="简单排序"><a href="#简单排序" class="headerlink" title="简单排序"></a>简单排序</h4><h5 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h5><p>排序原理：</p>
<ul>
<li><p>比较相邻的两个元素，如果前一个元素比后一个元素大，就交换这两个元素的位置</p>
</li>
<li><p>对每一对相邻的元素做同样 的工作，从开始第一对元素到结尾的最后一对元素，最终最后位置的元素就是最大值</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211205150711149.png" alt="image-20211205150711149"></p>
</li>
<li><p>代码实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//冒泡排序</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">sort1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span>&#123;</span><br><span class="line">        <span class="comment">//i为数组长度</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i= a.length-<span class="number">1</span>;i&gt;<span class="number">1</span>;i--)&#123;</span><br><span class="line">            <span class="comment">//j为元素对应的索引</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                <span class="comment">//比较索引j和索引j+1处的元素</span></span><br><span class="line">                <span class="keyword">if</span>(great(a[j],a[j+<span class="number">1</span>]))&#123;</span><br><span class="line">                    exch(a,j,j+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//比较大小</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title function_">great</span><span class="params">(Comparable s , Comparable t)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s.compareTo(t)&gt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//数组中元素位置交换</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">exch</span><span class="params">(Comparable[] a,<span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        Comparable temp;</span><br><span class="line">        temp=a[i];</span><br><span class="line">        a[i]=a[j];</span><br><span class="line">        a[j]=temp;</span><br><span class="line">    &#125;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.sfag.algorithm.sort.sort1;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//测试冒泡排序</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">sort1Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Integer [] a = &#123;<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">        sort1.sort(a);</span><br><span class="line">        System.out.println(Arrays.toString(a));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>时间复杂度：</p>
<p>元素比较的次数：(n-1)+(n-2)+(n-3)+……+3+2+1&#x3D;((n-1)+1)*(n-1)&#x2F;2&#x3D;n∧2&#x2F;2-n&#x2F;2</p>
<p>元素交换位置的次数：(n-1)+(n-2)+(n-3)+……+3+2+1&#x3D;((n-1)+1)*(n-1)&#x2F;2&#x3D;n∧2&#x2F;2-n&#x2F;2</p>
<p>时间复杂度：n∧2&#x2F;2-n&#x2F;2+n∧2&#x2F;2-n&#x2F;2&#x3D;O(n∧2)</p>
</li>
</ul>
<h5 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h5><p>原理：</p>
<ul>
<li><p>每一次遍历的过程中，都假定第一个索引处的元素是最小值，和其他索引处的值依次比较，如果当前索引的值大于其他某个索引处的值，则假定其他某个索引处的值为最小值，继续比下午，到最后可以找到最小值所在的索引</p>
</li>
<li><p>交换第一个索引处和最小值所在索引处的值</p>
</li>
<li><p>代码实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//选择排序</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SelectSort</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span>&#123;</span><br><span class="line">        <span class="comment">//从索引0开始，默认最小值索引为0</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=a.length-<span class="number">2</span>;i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">minIndex</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; a.length; j++) &#123;</span><br><span class="line">                <span class="comment">//如果索引为minIndex处的值大于索引为j处的值，则让最小值的索引变为j</span></span><br><span class="line">                <span class="keyword">if</span>(great(a[minIndex],a[j]))&#123;</span><br><span class="line">                    minIndex=j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//交换元素位置</span></span><br><span class="line">            exch(a,i,minIndex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//比较大小</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title function_">great</span><span class="params">(Comparable s , Comparable t)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s.compareTo(t)&gt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//数组中元素位置交换</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">exch</span><span class="params">(Comparable[] a,<span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        Comparable temp;</span><br><span class="line">        temp=a[i];</span><br><span class="line">        a[i]=a[j];</span><br><span class="line">        a[j]=temp;</span><br><span class="line">    &#125;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>时间复杂度：</p>
<ul>
<li>数据比较次数：(n-1)+(n-2)+(n-3)+……+3+2+1&#x3D;((n-1)+1)*(n-1)&#x2F;2&#x3D;n∧2&#x2F;2-n&#x2F;2</li>
<li>位置交换次数：n-1</li>
<li>时间复杂度：n∧2&#x2F;2-n&#x2F;2+(n-1)&#x3D;O(n∧2)</li>
</ul>
</li>
</ul>
<h5 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h5><ul>
<li><p>实现原理：</p>
<ul>
<li>把所有元素分为两部分：已经排序的和未排序的</li>
<li>找到未排序的组中的第一个元素，向已经排序的元素组中插入</li>
<li>倒序遍历已经排序的元素，依次和待插入的元素进行比较，知道在已经排序的元素中找到小于等于待插入的元素，那么就把待插入元素放到这个元素后面，其他元素向后移动一位</li>
</ul>
</li>
<li><p>代码实现：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InsertSort</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">InsertSort</span><span class="params">(Comparable[] a)</span>&#123;</span><br><span class="line">        <span class="comment">//一开始有一个已排序的元素，从索引为1的元素开始</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; a.length; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &gt; <span class="number">0</span> ; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span>(method.great(a[j-<span class="number">1</span>],a[j]))&#123;</span><br><span class="line">                    method.exch(a,j-<span class="number">1</span>,j);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>时间复杂度分析：<ul>
<li>数据比较次数：(n-1)+(n-2)+(n-3)+……+3+2+1&#x3D;((n-1)+1)*(n-1)&#x2F;2&#x3D;n∧2&#x2F;2-n&#x2F;2</li>
<li>位置交换次数：(n-1)+(n-2)+(n-3)+……+3+2+1&#x3D;((n-1)+1)*(n-1)&#x2F;2&#x3D;n∧2&#x2F;2-n&#x2F;2</li>
<li>时间复杂度：n∧2&#x2F;2-n&#x2F;2+n∧2&#x2F;2-n&#x2F;2&#x3D;O(n∧2)</li>
</ul>
</li>
</ul>
<h4 id="复杂排序"><a href="#复杂排序" class="headerlink" title="复杂排序"></a>复杂排序</h4><h5 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h5><ul>
<li><p>排序原理</p>
<ol>
<li><p>选定一个增长量h，按照增长量h作为数据分组的依据，对数组进行分组</p>
</li>
<li><p>对分好组的每一组数据完成插入排序</p>
</li>
<li><p>减小增长量，最小为1，重复第二步操作</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211206104144547.png" alt="image-20211206104144547"></p>
</li>
<li><p>增长量的确认</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211206104427923.png" alt="image-20211206104427923"></p>
</li>
</ol>
</li>
<li><p>代码实现</p>
</li>
</ul>
<h5 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h5><p>​	归并排序是建立在归并操作上的一种有效的排序算法，算法采用分治法的一个非常经典的应用。将已经有序的子序列合并，得到完全有序的序列；即先让每个子序列有序，再使各个子序列之间有序。若将两个有序表合成一个有序表，成为二路归并</p>
<ul>
<li><p>排序原理：</p>
<ul>
<li>尽可能的一组数据拆分为两个元素数量相等的子组，并对每一个子组继续拆分，直到拆分后的每个子组的元素个数为1为止</li>
<li>将相邻的两个子组合并成一个有序的大组</li>
<li>不断的重复步骤，直到最终只有一个组为止</li>
</ul>
</li>
<li><p>代码实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sfag.algorithm.sort;</span><br><span class="line"><span class="keyword">import</span> com.sfag.algorithm.common.method;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MergeSort</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Comparable[] assist;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//对数组a中的元素进行排序</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span>&#123;</span><br><span class="line">        assist = <span class="keyword">new</span> <span class="title class_">Comparable</span>[a.length];</span><br><span class="line">        <span class="type">int</span> lo=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> hi=a.length-<span class="number">1</span>;</span><br><span class="line">        sort(a,lo,hi);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重载Sort，对数组a中的子组进行排序</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, <span class="type">int</span> lo, <span class="type">int</span> hi)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hi&lt;=lo) &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        sort(a,lo,mid);</span><br><span class="line">        sort(a,mid+<span class="number">1</span>,hi);</span><br><span class="line">        merge(a,lo,mid,hi);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//排序+归并</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(Comparable[] a, <span class="type">int</span> lo,<span class="type">int</span> mid ,<span class="type">int</span> hi)</span>&#123;</span><br><span class="line">        <span class="comment">//定义三个指针</span></span><br><span class="line">        <span class="type">int</span> i=lo;</span><br><span class="line">        <span class="type">int</span> p1=lo;</span><br><span class="line">        <span class="type">int</span> p2=mid+<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//遍历比较两个子组索引处的元素，将小的放到辅助数组的对应索引位置</span></span><br><span class="line">        <span class="keyword">while</span> (p1&lt;=mid &amp;&amp; p2&lt;=hi)&#123;</span><br><span class="line">            <span class="keyword">if</span>(method.great(a[p1],a[p2]))&#123;</span><br><span class="line">                assist[i++]=a[p2++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果p1的指针没走完，那么顺序移动p1指针，并把对应的元素放到辅助数组对应的位置</span></span><br><span class="line">        <span class="keyword">while</span> (p1&lt;=mid)&#123;</span><br><span class="line">            assist[i++]=a[p1++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果p2的指针没走完，那么顺序移动p1指针，并把对应的元素放到辅助数组对应的位置</span></span><br><span class="line">        <span class="keyword">while</span> (p2&lt;=hi)&#123;</span><br><span class="line">            assist[i++]=a[p2++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将辅助数组中的元素放回原数组</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=lo;j&lt;=hi;j++)&#123;</span><br><span class="line">            a[j]=assist[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>时间复杂度分析：</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20211212150446144.png" alt="image-20211212150446144"></p>
<ul>
<li>如果一个数组有八个元素，那么它将每次除以二寻找最小的子数组，共拆分log8次，值为3，所以共有三层，自上到下，第k层有2^k个数组，每个数组的长度为2^(3-k)，归并最多需要2^(3-k)次比较，因此每层比较次数为2^k*2^(3-k)&#x3D;2^3，那么是三层总共为3 *2^3</li>
<li>假设元素的个数为n，那么使用归并排序拆分的次数为log2(n)，所以共log2(n)层，则总共为log2(n)*2^(log2(n))&#x3D;log2(n) *n，即归并排序的时间复杂度为：log2(n) *n，根据大O计发：时间复杂度为n *log(n)</li>
</ul>
</li>
</ul>
<h5 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h5><ul>
<li><p>排序原理：</p>
<ol>
<li>首先设定一个分界值，通过改分界值将数组分为两部分；</li>
<li>将大于或等于分界值的数据放到数组右边，小于分界值的数据放到数组的左边</li>
<li>然后，左边和右边的数据可以独立排序。对于左侧的数组数据，又可以取一个分界值，将该部分数据分成左右部分，童颜跟步骤2一样</li>
<li>重复上述操作，可以看出，这是一个递归定义。通过递归将左侧数据排好序后，再递归排好右侧部分的顺序，则整个数组就完成排序了</li>
</ol>
</li>
<li><p>数组切分原理：</p>
<ol>
<li>找一个基准值，用两个指针分别指向数组的头和尾</li>
<li>先从尾部向头部开始搜索一个比基准值小的元素，搜索到即停止，并记录指针的位置</li>
<li>再从同头部向尾部开始搜索一个比基准值大的元素，搜索到即停止，并记录指针的位置</li>
<li>交换左右两边指针所指元素的位置</li>
<li>重复234步骤，直到左边指针的值大于右边指针的值停止</li>
</ol>
</li>
<li><p>代码实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sfag.algorithm.sort;</span><br><span class="line"><span class="keyword">import</span> com.sfag.algorithm.common.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickSort</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">hi</span> <span class="operator">=</span> a.length-<span class="number">1</span>;</span><br><span class="line">        sort(a,lo,hi);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//排序</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a,<span class="type">int</span> lo, <span class="type">int</span> hi)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(lo&gt;=hi)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> partition(a, lo,hi);</span><br><span class="line">        <span class="comment">//对拆分后的左边子组进行排序</span></span><br><span class="line">        sort(a, lo, p-<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//对拆分后的右边子组进行排序</span></span><br><span class="line">        sort(a, p+<span class="number">1</span>, hi);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//对数组进行分组</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(Comparable[] a, <span class="type">int</span> lo, <span class="type">int</span> hi)</span>&#123;</span><br><span class="line">        <span class="type">Comparable</span> <span class="variable">key</span> <span class="operator">=</span> a[lo];</span><br><span class="line">        <span class="comment">//定义左指针和右指针</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> lo;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> hi+<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//切分</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//System.out.println(Arrays.toString(a));</span></span><br><span class="line">            <span class="comment">//从右往左扫描，找到一个比分界值小的，停止</span></span><br><span class="line">            <span class="keyword">while</span> (method.great(a[--right],key))&#123;</span><br><span class="line">                <span class="keyword">if</span>(right==lo)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//从左往右扫描，找到一个比分界值大的，停止</span></span><br><span class="line">            <span class="keyword">while</span> (method.great(key,a[++left]))&#123;</span><br><span class="line">                <span class="keyword">if</span>(left==hi)&#123;</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//判断left&gt;=rirht,如果是，说明遍历结束，停止循环，如果不是，则交换指针所指元素</span></span><br><span class="line">            <span class="keyword">if</span>(left&gt;=right)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                method.exch(a,left,right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//交换分界值和最后两个指针同时指向的值的位置</span></span><br><span class="line">        method.exch(a,lo,right);</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>时间复杂度分析：拆分的次数*n</p>
<p>取决于拆分的次数：</p>
<ul>
<li>最优情况：每此拆分的分界值刚好将数组等分，一共切分了logn次，则时间负责度为：nlogn</li>
<li>最坏情况：每此切分的分界值为数组中的最大值或最小值，则需要切分n次，时间复杂度为：n^2</li>
</ul>
</li>
</ul>
<h5 id="排序的稳定性分析"><a href="#排序的稳定性分析" class="headerlink" title="排序的稳定性分析"></a>排序的稳定性分析</h5><p>稳定与不稳定：数组中油若干元素，如果有两个相等的元素a和b，排序之前a在b之前，如果经过排序之后，a依旧在b前面，则说明排序算法是稳定的，否则就是不稳定的</p>
<ul>
<li>稳定的排序算法：冒泡排序、插入排序、归并排序</li>
<li>不稳定的算法：选择排序、希尔排序、快速排序</li>
</ul>
<h3 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h3><h3 id="符号表"><a href="#符号表" class="headerlink" title="符号表"></a>符号表</h3><h3 id="树"><a href="#树" class="headerlink" title="树"></a>树</h3><h3 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h3><h3 id="优先队列"><a href="#优先队列" class="headerlink" title="优先队列"></a>优先队列</h3><h3 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h3><h3 id="图"><a href="#图" class="headerlink" title="图"></a>图</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" data-id="cl4vgwma6000pu8gv3r9w1xrz" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-电商" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/%E7%94%B5%E5%95%86/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.801Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="电商"><a href="#电商" class="headerlink" title="电商"></a>电商</h1><h2 id="电商模式"><a href="#电商模式" class="headerlink" title="电商模式"></a>电商模式</h2><ul>
<li><p>传统电商</p>
<p>传统电商通过零售、营销、物流、金融等业态整合，形成供给侧的网络协同效应，从而提高整个组织效益，进一步分摊服务成本</p>
</li>
<li><p>社交电商：</p>
<p>社交电商是以消费者人际关系为着力点，基于人与人的分享裂变产生聚合效益，反向降低平台获客成本与服务成本</p>
</li>
<li><p>B2B</p>
<p>B2B模式主要是通过互联网平台聚合众多的企业商家，形成买卖的大信息海洋，买家与卖家在平台上选择交易对象，通过在线电子支付完成交易。</p>
</li>
<li><p>B2C</p>
<p>B2C即企业通过互联网为消费者提供一个新型的购物环境——网上商店，消费者通过网络在网上购物、在网上支付。由于这种模式节省了客户和企业的时间和空间，大大提高了交易效率，特别对于工作忙碌的上班族，这种模式可以为其节省宝贵的时间。</p>
</li>
<li><p>BBC</p>
</li>
<li><p>C2C</p>
<p>C2C电子商务模式是一种个人对个人的网上交易行为，目前C2C电子商务企业采用的运作模式是通过为买卖双方搭建拍卖平台，按比例收取交易费用，或者提供平台方便个人在上面开店铺，以会员制的方式收费</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/%E7%94%B5%E5%95%86/" data-id="cl4vgwma5000ou8gv6my4fglt" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-订单业务操作流程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/%E8%AE%A2%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.801Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="订单业务操作流程"><a href="#订单业务操作流程" class="headerlink" title="订单业务操作流程"></a>订单业务操作流程</h1><ol>
<li><p>新建品牌和类目：</p>
<p>商品中心—商品设置—品牌设置和类目设置</p>
<p>类目管理—后台类目编辑</p>
</li>
<li><p>新增商家——编辑商家（申请品牌，申请类目，选择渠道）</p>
<p>商家中心—商家管理—新增</p>
<p>修改商家信息：申请品牌、申请类目，选择渠道</p>
</li>
<li><p>审核商家申请的品牌和类目</p>
<p>商品中心—商品类目资质管理&#x2F;商品品牌资质管理：审核通过</p>
</li>
<li><p>添加员工</p>
<p>用户中心—组织架构管理</p>
</li>
<li><p>配置核算方式</p>
<p>商家平台**&gt;&gt;<strong>财务中心</strong>&gt;&gt;<strong>成本管理</strong>&gt;&gt;**成本核算方式配置</p>
</li>
<li><p>创建店铺</p>
<p>商家中心—店铺管理—添加店铺（选择指定的商家）</p>
<p>修改店铺信息：选择经营类目&#x2F;品牌&#x2F;订单退货设置</p>
</li>
<li><p>新建仓库</p>
<p>库存中心—仓库管理—新增仓库（组织架构和覆盖区域要与拟合仓的对应）</p>
</li>
<li><p>新增拟合仓</p>
<p>库存中心&gt;&gt;拟合仓管理&gt;&gt;新增拟合仓，关联商家，关联店铺，配置店铺的分配模式，并把状态设置为启用</p>
</li>
<li><p>关联实体仓和拟合仓</p>
<p>仓库管理–库存同步规则–拟合仓映射–新增</p>
</li>
<li><p>新增商品：运营商品和商家商品</p>
<p>商品中心&gt;&gt;新增运营商品&gt;&gt;单个创建商品。运营商品创建后自动分发到商家（有品牌&#x2F;类目权限的商家）–自动分发到店铺（品牌&#x2F;类目匹配）。可以到运营商品管理、商家商品管理、店铺商品管理菜单查看。</p>
</li>
<li><p>商品入库：</p>
<p>库存中心—库内事务单据—新增</p>
</li>
<li><p>商家商品可售&amp;店铺商品上架。</p>
<p>在商家商品管理–是否允许销售置为是。在店铺商品管理–选择商品–批量上架</p>
</li>
<li><p>检查支付回调</p>
</li>
<li><p>下单</p>
<ul>
<li>前台下单</li>
<li>后台下单：订单中心—人工下单</li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/%E8%AE%A2%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B/" data-id="cl4vgwma8000ru8gvbymud8q8" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-第九节：springboot集成redis及使用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/%E7%AC%AC%E4%B9%9D%E8%8A%82%EF%BC%9Aspringboot%E9%9B%86%E6%88%90redis%E5%8F%8A%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.801Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="第九节：springboot集成redis及使用"><a href="#第九节：springboot集成redis及使用" class="headerlink" title="第九节：springboot集成redis及使用"></a>第九节：springboot集成redis及使用</h1><h2 id="pom依赖"><a href="#pom依赖" class="headerlink" title="pom依赖"></a>pom依赖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- 使用lettuce做redis的连接池需要额外引入这个包--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<h2 id="application-配置"><a href="#application-配置" class="headerlink" title="application 配置"></a><strong>application 配置</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># Redis 数据库索引（默认为 0）</span><br><span class="line">spring.redis.database=0</span><br><span class="line"># Redis 服务器地址</span><br><span class="line">spring.redis.host=localhost</span><br><span class="line"># Redis 服务器连接端口</span><br><span class="line">spring.redis.port=6379</span><br><span class="line"># Redis 服务器连接密码（默认为空）</span><br><span class="line">spring.redis.password=</span><br><span class="line"># 连接池最大连接数（使用负值表示没有限制） 默认 8</span><br><span class="line">spring.redis.lettuce.pool.max-active=8</span><br><span class="line"># 连接池最大阻塞等待时间（使用负值表示没有限制） 默认 -1</span><br><span class="line">spring.redis.lettuce.pool.max-wait=-1</span><br><span class="line"># 连接池中的最大空闲连接 默认 8</span><br><span class="line">spring.redis.lettuce.pool.max-idle=8</span><br><span class="line"># 连接池中的最小空闲连接 默认 0</span><br><span class="line">spring.redis.lettuce.pool.min-idle=0</span><br></pre></td></tr></table></figure>

<p> 集群配置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.redis.cluster.nodes=10.10.0.48:7001,10.10.0.48:7001,10.10.0.48:8000,10.10.0.48:8001,10.10.0.48:9000,10.10.0.48:9001</span><br></pre></td></tr></table></figure>

<h2 id="RedisTemplate序列化"><a href="#RedisTemplate序列化" class="headerlink" title="RedisTemplate序列化"></a>RedisTemplate序列化</h2><p>默认情况下的模板只能支持 <code>RedisTemplate&lt;String,String&gt;</code>，只能存入字符串，很多时候，我们需要自定义 RedisTemplate ，设置序列化器，这样我们可以很方便的操作实例对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class RedisConfig &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public RedisTemplate&lt;String, Serializable&gt; redisTemplate(LettuceConnectionFactory lettuceConnectionFactory) &#123;</span><br><span class="line">        RedisTemplate&lt;String, Serializable&gt; redisTemplate = new RedisTemplate&lt;&gt;();</span><br><span class="line">        redisTemplate.setKeySerializer(new StringRedisSerializer());</span><br><span class="line">        redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());</span><br><span class="line">        redisTemplate.setConnectionFactory(lettuceConnectionFactory);</span><br><span class="line">        return redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="operation接口"><a href="#operation接口" class="headerlink" title="operation接口"></a>operation接口</h2><ul>
<li>ValueOperations：简单K-V操作</li>
<li>ListOperations：针对list类型的数据操作</li>
<li>HashOperations：针对map类型的数据操作</li>
<li>SetOperations：set类型数据操作</li>
<li>ZSetOperations：zset类型数据操作</li>
</ul>
<h3 id="ValueOperations–String类型"><a href="#ValueOperations–String类型" class="headerlink" title="ValueOperations–String类型"></a>ValueOperations–String类型</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br></pre></td><td class="code"><pre><span class="line">package com.odianyun.internship;</span><br><span class="line"></span><br><span class="line">import com.alibaba.fastjson.JSONObject;</span><br><span class="line">import com.google.common.collect.ImmutableMap;</span><br><span class="line">import com.odianyun.internship.model.UUser;</span><br><span class="line">import com.odianyun.internship.startup.Application;</span><br><span class="line">import org.assertj.core.util.Lists;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.junit.runner.RunWith;</span><br><span class="line">import org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line">import org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line">import org.springframework.data.redis.core.ValueOperations;</span><br><span class="line">import org.springframework.test.context.junit4.SpringRunner;</span><br><span class="line"></span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line">import java.io.Serializable;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line">import java.util.concurrent.TimeUnit;</span><br><span class="line">import java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @description:</span><br><span class="line"> * @author: EDZ</span><br><span class="line"> * @time: 14:16</span><br><span class="line"> * @date: 2021/7/20</span><br><span class="line"> */</span><br><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@SpringBootTest(classes = Application.class)</span><br><span class="line">public class RedisTest &#123;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    private RedisTemplate&lt;String, Serializable&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringSet() &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        // 设值</span><br><span class="line">        String key = &quot;userName:2&quot;;</span><br><span class="line">        operations.set(key, &quot;xingguo&quot;);</span><br><span class="line">        // 使用最后一个</span><br><span class="line">        operations.set(key, &quot;xingguo123&quot;);</span><br><span class="line">        // 获取值</span><br><span class="line">        System.out.println(&quot;value = &quot; + operations.get(key));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringExpire() throws InterruptedException &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        String key = &quot;userCaptchas:1&quot;;</span><br><span class="line">        // 设置过期时间</span><br><span class="line">        operations.set(key, &quot;435678&quot;, 3, TimeUnit.SECONDS);</span><br><span class="line">        System.out.println(&quot;value = &quot; + operations.get(key));</span><br><span class="line">        Thread.sleep(4000);</span><br><span class="line">        System.out.println(&quot;4s之后value = &quot; + operations.get(key));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringSetIfAbsent() throws InterruptedException &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        String key = &quot;userName:2&quot;;</span><br><span class="line">        String key3 = &quot;userName:3&quot;;</span><br><span class="line">        String key6 = &quot;userName:6&quot;;</span><br><span class="line">        // 如果不存在，则设置一个key和value。如果存在则不改变</span><br><span class="line">        operations.setIfAbsent(key, &quot;diaoxingguo2&quot;);</span><br><span class="line">        operations.setIfAbsent(key3, &quot;diaoxingguo3&quot;);</span><br><span class="line">        operations.setIfAbsent(key6, &quot;diaoxingguo6&quot;);</span><br><span class="line">        System.out.println(&quot;key value = &quot; + operations.get(key));</span><br><span class="line">        System.out.println(&quot;key3 value = &quot; + operations.get(key3));</span><br><span class="line">        System.out.println(&quot;key6 value = &quot; + operations.get(key6));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringSetIfPresent() throws InterruptedException &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        String key = &quot;userName:2&quot;;</span><br><span class="line">        String key3 = &quot;userName:3&quot;;</span><br><span class="line">        String key8 = &quot;userName:8&quot;;</span><br><span class="line">        // 如果key存在就使用新值覆盖，如果key不存在，则不赋值</span><br><span class="line">        operations.setIfPresent(key, &quot;diaoxingguo2&quot;);</span><br><span class="line">        operations.setIfPresent(key3, &quot;diaoxingguo3&quot;);</span><br><span class="line">        operations.setIfPresent(key8, &quot;diaoxingguo8&quot;);</span><br><span class="line">        System.out.println(&quot;key value = &quot; + operations.get(key));</span><br><span class="line">        System.out.println(&quot;key3 value = &quot; + operations.get(key3));</span><br><span class="line">        System.out.println(&quot;key8 value = &quot; + operations.get(key8));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringMultiSet() &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        // 批量设置key和value</span><br><span class="line">        Map&lt;String, String&gt; map = ImmutableMap.of(</span><br><span class="line">                &quot;userName:101&quot;, &quot;张三&quot;,</span><br><span class="line">                &quot;userName:102&quot;, &quot;李四&quot;,</span><br><span class="line">                &quot;userName:103&quot;, &quot;刘汝清&quot;</span><br><span class="line">        );</span><br><span class="line">        operations.multiSet(map);</span><br><span class="line">        // 获取单个key</span><br><span class="line">        System.out.println(&quot;userName:101 value = &quot; + operations.get(&quot;userName:101&quot;));</span><br><span class="line"></span><br><span class="line">        // 获取批量key的值</span><br><span class="line">        List&lt;String&gt; multiValues = operations.multiGet(Lists.newArrayList(&quot;userName:101&quot;, &quot;userName:102&quot;, &quot;userName:103&quot;));</span><br><span class="line"></span><br><span class="line">        multiValues.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; filterList = multiValues.stream().filter(item -&gt; !item.equals(&quot;张三&quot;)).collect(Collectors.toList());</span><br><span class="line">        System.out.println(&quot;filterList = &quot; + JSONObject.toJSONString(filterList));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringIncrement() &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        String key = &quot;url:query:num&quot;;</span><br><span class="line">        Long maxNum = 10L;</span><br><span class="line">        Long num = 0L;</span><br><span class="line">        operations.set(key, 0);</span><br><span class="line">        while (maxNum.compareTo(num) &gt; 0) &#123;</span><br><span class="line">            // 加值</span><br><span class="line">            num = operations.increment(key);</span><br><span class="line">            System.out.println(&quot;num = &quot; + num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringIncrementWithDelta() &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        String key = &quot;url:query:num&quot;;</span><br><span class="line">        Long maxNum = 10L;</span><br><span class="line">        Long num = 0L;</span><br><span class="line">        Long delta = 2L;</span><br><span class="line">        operations.set(key, 0);</span><br><span class="line">        while (maxNum.compareTo(num) &gt; 0) &#123;</span><br><span class="line">            // 加值</span><br><span class="line">            num = operations.increment(key, delta);</span><br><span class="line">            System.out.println(&quot;num = &quot; + num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringDecrement() &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        String key = &quot;url:query:num&quot;;</span><br><span class="line">        Long minNum = 0L;</span><br><span class="line">        Long num = 10L;</span><br><span class="line">        Long delta = 2L;</span><br><span class="line">        operations.set(key, num);</span><br><span class="line">        while (num.compareTo(minNum) &gt; 0) &#123;</span><br><span class="line">            // 减值</span><br><span class="line">            num = operations.decrement(key, delta);</span><br><span class="line">            System.out.println(&quot;num = &quot; + num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testStringGetAndSet() &#123;</span><br><span class="line">        ValueOperations operations = redisTemplate.opsForValue();</span><br><span class="line">        String key = &quot;url:query:num&quot;;</span><br><span class="line">        String key3 = &quot;url:query:num3&quot;;</span><br><span class="line">        // 设置新值返回旧值，如果key不存在，旧值就是null</span><br><span class="line">        /*System.out.println(&quot;getAndSet key value = &quot; + operations.get(key));</span><br><span class="line">        System.out.println(&quot;getAndSet key value = &quot; + operations.getAndSet(key, 1000));</span><br><span class="line">        System.out.println(&quot;getAndSet key value = &quot; + operations.get(key));</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;getAndSet key value = &quot; + operations.get(key3));</span><br><span class="line">        System.out.println(&quot;getAndSet key value = &quot; + operations.getAndSet(key3, 1000));</span><br><span class="line">        System.out.println(&quot;getAndSet key value = &quot; + operations.get(key3));*/</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;key3 value = &quot; + operations.get(key3));</span><br><span class="line">        // 判断key是否存在</span><br><span class="line">        System.out.println(&quot;hasKey key3 = &quot; + redisTemplate.hasKey(key3));</span><br><span class="line">        // 删除key</span><br><span class="line">        redisTemplate.delete(key3);</span><br><span class="line">        System.out.println(&quot;key3 value = &quot; + operations.get(key3));</span><br><span class="line">        System.out.println(&quot;hasKey key3 = &quot; + redisTemplate.hasKey(key3));</span><br><span class="line">        // 批量获取</span><br><span class="line">        System.out.println(JSONObject.toJSONString(operations.multiGet(Lists.newArrayList(key, key3))));</span><br><span class="line">        redisTemplate.delete(Lists.newArrayList(key, key3));</span><br><span class="line">        System.out.println(JSONObject.toJSONString(operations.multiGet(Lists.newArrayList(key, key3))));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ValueOperations–Object类型"><a href="#ValueOperations–Object类型" class="headerlink" title="ValueOperations–Object类型"></a>ValueOperations–Object类型</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">    public void testObject() &#123;</span><br><span class="line">        ValueOperations&lt;String, Serializable&gt; operations = redisTemplate.opsForValue();</span><br><span class="line">        String key = &quot;userInfo:123&quot;;</span><br><span class="line">        UUser user = new UUser();</span><br><span class="line">        user.setId(123L);</span><br><span class="line">        user.setMobile(&quot;13127787865&quot;);</span><br><span class="line">        user.setPassword(&quot;123456&quot;);</span><br><span class="line"></span><br><span class="line">        // 存放对象</span><br><span class="line">        operations.set(key, user);</span><br><span class="line"></span><br><span class="line">        UUser cacheUUser = (UUser) operations.get(key);</span><br><span class="line"></span><br><span class="line">        System.out.println(JSONObject.toJSONString(cacheUUser));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> @Test</span><br><span class="line">public void testObj() throws InterruptedException &#123;</span><br><span class="line">    String key = &quot;user:1&quot;;</span><br><span class="line">    UUser user = new UUser();</span><br><span class="line">    user.setId(1L);</span><br><span class="line">    user.setMobile(&quot;13127787865&quot;);</span><br><span class="line">    user.setPassword(&quot;123456&quot;);</span><br><span class="line">    ValueOperations&lt;String, Serializable&gt; operations = redisTemplate.opsForValue();</span><br><span class="line">    // 设置过期时间2s</span><br><span class="line">    operations.set(key, user, 2, TimeUnit.SECONDS);</span><br><span class="line">    UUser userValue = (UUser) operations.get(key);</span><br><span class="line">    System.out.println(&quot;key = &quot; + redisTemplate.hasKey(key));</span><br><span class="line">    System.out.println(&quot;value = &quot; + JSONObject.toJSONString(userValue));</span><br><span class="line"></span><br><span class="line">    Thread.sleep(2500);</span><br><span class="line">    UUser userValue2 = (UUser) operations.get(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;key = &quot; + redisTemplate.hasKey(key));</span><br><span class="line">    System.out.println(&quot;value = &quot; + JSONObject.toJSONString(userValue2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="redisTemplate删除"><a href="#redisTemplate删除" class="headerlink" title="redisTemplate删除"></a>redisTemplate删除</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testDelete() &#123;</span><br><span class="line">    String key = &quot;user:1&quot;;</span><br><span class="line">    UUser user = new UUser();</span><br><span class="line">    user.setId(1L);</span><br><span class="line">    user.setMobile(&quot;13127787865&quot;);</span><br><span class="line">    user.setPassword(&quot;123456&quot;);</span><br><span class="line">    ValueOperations&lt;String, Serializable&gt; operations = redisTemplate.opsForValue();</span><br><span class="line">    operations.set(key, user);</span><br><span class="line">    UUser userValue = (UUser) operations.get(key);</span><br><span class="line">    System.out.println(&quot;key = &quot; + redisTemplate.hasKey(key));</span><br><span class="line">    System.out.println(&quot;value = &quot; + JSONObject.toJSONString(userValue));</span><br><span class="line">    </span><br><span class="line">    // 删除</span><br><span class="line">    redisTemplate.delete(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;key = &quot; + redisTemplate.hasKey(key));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ListOperations"><a href="#ListOperations" class="headerlink" title="ListOperations"></a>ListOperations</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Long leftPush(K key, V value);</span><br><span class="line"> * 左边添加，list头部</span><br><span class="line"> */</span><br><span class="line">@Test</span><br><span class="line">public void testListPush() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line">    String key = &quot;user:fans:1&quot;;</span><br><span class="line"></span><br><span class="line">    // list头部</span><br><span class="line">    /*operations.leftPush(key, &quot;刘德华&quot;);</span><br><span class="line">    operations.leftPush(key, &quot;张学友&quot;);</span><br><span class="line">    operations.leftPush(key, &quot;郭富城&quot;);</span><br><span class="line">    operations.leftPush(key, &quot;黎明&quot;);</span><br><span class="line">    operations.leftPush(key, &quot;周杰伦&quot;);*/</span><br><span class="line"></span><br><span class="line">    // list尾部</span><br><span class="line">    operations.rightPush(key, &quot;王力宏&quot;);</span><br><span class="line"></span><br><span class="line">    // value放在指定值pivot的前面</span><br><span class="line">    operations.leftPush(key,&quot;黎明&quot;, &quot;刘汝清&quot;);</span><br><span class="line"></span><br><span class="line">    // value放在指定值pivot的后面</span><br><span class="line">    operations.rightPush(key, &quot;周杰伦&quot;, &quot;兰龙雨&quot;);</span><br><span class="line">    // 获取list的范围值 start, end是索引。</span><br><span class="line">    // end是-1表示获取全部</span><br><span class="line">    List&lt;Serializable&gt; values = operations.range(key, 0, -1);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;values == &quot; + JSONObject.toJSONString(values));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testListPushAll() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line">    String key = &quot;user:fans:2&quot;;</span><br><span class="line"></span><br><span class="line">    // 删除</span><br><span class="line">    redisTemplate.delete(key);</span><br><span class="line">    // 左push</span><br><span class="line">    operations.leftPushAll(key, &quot;刘德华&quot;, &quot;张学友&quot;);</span><br><span class="line">    operations.leftPushAll(key, Lists.newArrayList(&quot;郭富城&quot;, &quot;黎明&quot;));</span><br><span class="line"></span><br><span class="line">    // 右push</span><br><span class="line">    operations.rightPushAll(key, &quot;周杰伦&quot;, &quot;王力宏&quot;);</span><br><span class="line">    operations.rightPushAll(key, Lists.newArrayList(&quot;赵雷&quot;, &quot;李荣浩&quot;));</span><br><span class="line"></span><br><span class="line">    List&lt;Serializable&gt; values = operations.range(key, 0, -1);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;values == &quot; + JSONObject.toJSONString(values));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testListPushIfPresent() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line"></span><br><span class="line">    String key = &quot;user:fans:3&quot;;</span><br><span class="line">    String key2 = &quot;user:fans:2&quot;;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * leftPushIfPresent当key有值的时候，左边添加。否则不做任何操作</span><br><span class="line">     */</span><br><span class="line">    operations.leftPushIfPresent(key, &quot;周杰伦&quot;);</span><br><span class="line">    operations.leftPushIfPresent(key, &quot;王力宏&quot;);</span><br><span class="line">    operations.leftPushIfPresent(key, &quot;王力宏&quot;);</span><br><span class="line"></span><br><span class="line">    operations.leftPushIfPresent(key2, &quot;周杰伦&quot;);</span><br><span class="line">    operations.leftPushIfPresent(key2, &quot;王力宏&quot;);</span><br><span class="line">    operations.leftPushIfPresent(key2, &quot;王力宏&quot;);</span><br><span class="line"></span><br><span class="line">    // rightPushIfPresent当key有值的时候，左边添加。否则不做任何操作</span><br><span class="line">    operations.rightPushIfPresent(key2, &quot;王力宏&quot;);</span><br><span class="line"></span><br><span class="line">    List&lt;Serializable&gt; values = operations.range(key, 0, -1);</span><br><span class="line">    System.out.println(&quot;key values == &quot; + JSONObject.toJSONString(values));</span><br><span class="line">    // key2</span><br><span class="line">    System.out.println(&quot;key2 values == &quot; + JSONObject.toJSONString(operations.range(key2, 0, -1)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testListPop() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line">    String key = &quot;user:fans:2&quot;;</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;old values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line"></span><br><span class="line">    // 左删除</span><br><span class="line">    String leftValue = (String) operations.leftPop(key);</span><br><span class="line"></span><br><span class="line">    // 右删除</span><br><span class="line">    String rightValue = (String) operations.rightPop(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;left value == &quot; + leftValue);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;right value == &quot; + rightValue);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;current values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testListRemove() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line">    String key = &quot;user:fans:2&quot;;</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;old values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line"></span><br><span class="line">    operations.leftPush(key, &quot;张学友&quot;);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;old values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">    // 指定个数count删除与value的值</span><br><span class="line">    Long successNum = operations.remove(key, 100, &quot;张学友&quot;);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;successNum == &quot; + successNum);</span><br><span class="line">    System.out.println(&quot;current values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testListRightPopAndLeftPush() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line">    String key = &quot;user:fans:2&quot;;</span><br><span class="line">    String destinationKey = &quot;user:fans:5&quot;;</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;key values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">    System.out.println(&quot;destinationKey values == &quot; + JSONObject.toJSONString(operations.range(destinationKey, 0, -1)));</span><br><span class="line"></span><br><span class="line">    // 从源list删除，放入目标list的左边</span><br><span class="line">    operations.rightPopAndLeftPush(key, destinationKey);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;current key values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">    System.out.println(&quot;current destinationKey values == &quot; + JSONObject.toJSONString(operations.range(destinationKey, 0, -1)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testListRightPopAndLeftPushWithTimeout() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line">    String key = &quot;user:fans:6&quot;;</span><br><span class="line">    String destinationKey = &quot;user:fans:5&quot;;</span><br><span class="line"></span><br><span class="line">    // 先删除，以防有值</span><br><span class="line">    redisTemplate.delete(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;key values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">    System.out.println(&quot;destinationKey values == &quot; + JSONObject.toJSONString(operations.range(destinationKey, 0, -1)));</span><br><span class="line"></span><br><span class="line">    Long size = operations.size(destinationKey);</span><br><span class="line">    System.out.println(&quot;size == &quot; + size);</span><br><span class="line"></span><br><span class="line">    Long start = System.currentTimeMillis();</span><br><span class="line">    // 从源list删除，放入目标list的左边</span><br><span class="line">    operations.rightPopAndLeftPush(key, destinationKey, 2, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">    Long end = System.currentTimeMillis();</span><br><span class="line">    System.out.println(&quot;耗时：&quot; + (end - start)/1000 + &quot;s&quot;);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;current key values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">    System.out.println(&quot;current destinationKey values == &quot; + JSONObject.toJSONString(operations.range(destinationKey, 0, -1)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testListSet() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line">    String key = &quot;user:fans:5&quot;;</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;key values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line"></span><br><span class="line">    // 修改指定下标的值，如果下标超过list范围会报错</span><br><span class="line">    operations.set(key, 1, &quot;张学友&quot;);</span><br><span class="line">//        operations.set(key, 3, &quot;张学友&quot;);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;key values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testListTrim() &#123;</span><br><span class="line">    ListOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForList();</span><br><span class="line">    String key = &quot;user:fans:5&quot;;</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;key values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line"></span><br><span class="line">    // 保留下标从start到end的值</span><br><span class="line">    operations.trim(key, 0, 1);</span><br><span class="line"></span><br><span class="line">    // 指定key过期时间</span><br><span class="line">    redisTemplate.expire(key, 2, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;key values == &quot; + JSONObject.toJSONString(operations.range(key, 0, -1)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HashOperations"><a href="#HashOperations" class="headerlink" title="HashOperations"></a>HashOperations</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"> @Test</span><br><span class="line">public void testHashPut() &#123;</span><br><span class="line">    HashOperations&lt;String, String, Serializable&gt; operations =redisTemplate.opsForHash();</span><br><span class="line">    String key = &quot;userInfo:1&quot;;</span><br><span class="line"></span><br><span class="line">    String hashKeyMobile = &quot;mobile&quot;;</span><br><span class="line">    String hashKeyPassword = &quot;password&quot;;</span><br><span class="line"></span><br><span class="line">    // 设值</span><br><span class="line">    operations.put(key, hashKeyMobile, &quot;13127787865&quot;);</span><br><span class="line">    operations.put(key, hashKeyPassword, &quot;123456&quot;);</span><br><span class="line"></span><br><span class="line">    // 根据key和hashKey获取值</span><br><span class="line">    System.out.println(&quot;mobile == &quot; + operations.get(key, hashKeyMobile));</span><br><span class="line">    System.out.println(&quot;password == &quot; + operations.get(key, hashKeyPassword));</span><br><span class="line"></span><br><span class="line">    // 根据key和hashKey的集合获取值</span><br><span class="line">    List&lt;Serializable&gt; listValues = operations.multiGet(key, Lists.newArrayList(hashKeyMobile, hashKeyPassword));</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;listValues == &quot; + JSONObject.toJSONString(listValues));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testHashPutAll() &#123;</span><br><span class="line">    HashOperations&lt;String, String, Serializable&gt; operations =redisTemplate.opsForHash();</span><br><span class="line">    String key = &quot;userInfo:2&quot;;</span><br><span class="line"></span><br><span class="line">    String key3 = &quot;userInfo:3&quot;;</span><br><span class="line"></span><br><span class="line">    String hashKeyMobile = &quot;mobile&quot;;</span><br><span class="line">    String hashKeyPassword = &quot;password&quot;;</span><br><span class="line">    String hashKeyEmail = &quot;email&quot;;</span><br><span class="line"></span><br><span class="line">    Map&lt;String, Serializable&gt; map = ImmutableMap.of(</span><br><span class="line">            hashKeyMobile, &quot;13127787865&quot;,</span><br><span class="line">            hashKeyPassword, &quot;123456&quot;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    // 设值map</span><br><span class="line">    operations.putAll(key, map);</span><br><span class="line"></span><br><span class="line">    // 如果key值存在，在key中hashKey也存在，不做处理，</span><br><span class="line">    // 如果key值存在，hashKey不存在，在key中可以添加不存在的的键值对，</span><br><span class="line">    operations.putIfAbsent(key, hashKeyMobile, &quot;13127787866&quot;);</span><br><span class="line">    operations.putIfAbsent(key, hashKeyEmail, &quot;diaoxingguo@odianyun.com&quot;);</span><br><span class="line">    // 如果key不存在，则新增一个key，同时将键值对hashKey和hashValue添加到该key中。</span><br><span class="line">    operations.putIfAbsent(key3, hashKeyMobile, &quot;13127787866&quot;);</span><br><span class="line"></span><br><span class="line">    // 根据key和hashKey获取值</span><br><span class="line">    System.out.println(&quot;mobile == &quot; + operations.get(key, hashKeyMobile));</span><br><span class="line">    System.out.println(&quot;password == &quot; + operations.get(key, hashKeyPassword));</span><br><span class="line">    System.out.println(&quot;email == &quot; + operations.get(key, hashKeyEmail));</span><br><span class="line"></span><br><span class="line">    // 根据key和hashKey的集合获取值</span><br><span class="line">    List&lt;Serializable&gt; listValues = operations.multiGet(key, Lists.newArrayList(hashKeyMobile, hashKeyPassword, hashKeyEmail));</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;listValues == &quot; + JSONObject.toJSONString(listValues));</span><br><span class="line"></span><br><span class="line">    // operations.entries获取hashKey和hashValue</span><br><span class="line">    Map&lt;String, Serializable&gt; hashKeyValueMap = operations.entries(key);</span><br><span class="line">    Map&lt;String, Serializable&gt; hashKeyValueMap3 = operations.entries(key3);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;hashKeyValueMap == &quot; + JSONObject.toJSONString(hashKeyValueMap));</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;hashKeyValueMap3 == &quot; + JSONObject.toJSONString(hashKeyValueMap3));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testHashHasKey() &#123;</span><br><span class="line">    HashOperations&lt;String, String, Serializable&gt; operations =redisTemplate.opsForHash();</span><br><span class="line">    String key = &quot;userInfo:2&quot;;</span><br><span class="line">    String hashKeyMobile = &quot;mobile&quot;;</span><br><span class="line">    String hashKeyPassword = &quot;password&quot;;</span><br><span class="line">    String hashKeyEmail = &quot;email&quot;;</span><br><span class="line"></span><br><span class="line">    // 是否有hashKey，返回true或者false</span><br><span class="line">    Boolean hasKey = operations.hasKey(key, hashKeyMobile);</span><br><span class="line">    System.out.println(&quot;hasKey == &quot; + hasKey);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;hashKeyValueMap == &quot; + JSONObject.toJSONString(operations.entries(key)));</span><br><span class="line"></span><br><span class="line">    // 删除hashKey,返回成功的个数</span><br><span class="line">    Long deleteNum = operations.delete(key, hashKeyMobile, &quot;nickname&quot;);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;deleteNum == &quot; + deleteNum);</span><br><span class="line">    System.out.println(&quot;hasKey == &quot; + operations.hasKey(key, hashKeyMobile));</span><br><span class="line">    System.out.println(&quot;hashKeyValueMap == &quot; + JSONObject.toJSONString(operations.entries(key)));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testHashKeys() &#123;</span><br><span class="line">    HashOperations&lt;String, String, Serializable&gt; operations =redisTemplate.opsForHash();</span><br><span class="line">    String key = &quot;userInfo:2&quot;;</span><br><span class="line"></span><br><span class="line">    // 获取key中hashKey的集合</span><br><span class="line">    Set&lt;String&gt; hashKeySet = operations.keys(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;hashKeySet == &quot; + JSONObject.toJSONString(hashKeySet));</span><br><span class="line"></span><br><span class="line">    // 获取key中hashValue的集合</span><br><span class="line">    List&lt;Serializable&gt; hashValueList = operations.values(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;hashValueList == &quot; + JSONObject.toJSONString(hashValueList));</span><br><span class="line"></span><br><span class="line">    // 获取key中hashKey的个数</span><br><span class="line">    Long hashKeySize = operations.size(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;hashKeySize == &quot; + JSONObject.toJSONString(hashKeySize));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testHashIncrement() &#123;</span><br><span class="line">    HashOperations&lt;String, String, Integer&gt; operations =redisTemplate.opsForHash();</span><br><span class="line">    String key = &quot;user:visit:3&quot;;</span><br><span class="line">    for (int i=0; i&lt;10; i++)&#123;</span><br><span class="line">        System.out.println(&quot;result score == &quot; + operations.increment(key, &quot;pv&quot;, 2));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="redisTemplate超时失效"><a href="#redisTemplate超时失效" class="headerlink" title="redisTemplate超时失效"></a>redisTemplate超时失效</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testHash() throws InterruptedException &#123;</span><br><span class="line">    String key = &quot;so:1&quot;;</span><br><span class="line">    HashOperations&lt;String, String, Object&gt; operations = redisTemplate.opsForHash();</span><br><span class="line"></span><br><span class="line">    operations.put(key, &quot;orderCode&quot;, &quot;1&quot;);</span><br><span class="line">    operations.put(key, &quot;userId&quot;, &quot;2&quot;);</span><br><span class="line">    String orderCode = (String) operations.get(key, &quot;orderCode&quot;);</span><br><span class="line">    Map&lt;String, Object&gt; map = operations.entries(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;orderCode = &quot; + orderCode);</span><br><span class="line">    System.out.println(&quot;map = &quot; + JSONObject.toJSONString(map));</span><br><span class="line">    // 超时失效</span><br><span class="line">    redisTemplate.expire(key, 1, TimeUnit.SECONDS);</span><br><span class="line">    Thread.sleep(1500);</span><br><span class="line"></span><br><span class="line">    List&lt;Object&gt; list = operations.multiGet(key, Lists.newArrayList(&quot;orderCode&quot;, &quot;userId&quot;));</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;list = &quot; + JSONObject.toJSONString(list));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SetOperations"><a href="#SetOperations" class="headerlink" title="SetOperations"></a>SetOperations</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br></pre></td><td class="code"><pre><span class="line">    /**</span><br><span class="line">     * 给集合key添加多个值，集合不存在创建后再添加</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param values</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    Long add(K key, V... values);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 移除集合中多个value值</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param values</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    Long remove(K key, Object... values);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 随机删除集合中的一个值，并返回。</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    V pop(K key);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 把源集合中的一个元素移动到目标集合。成功返回true.</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param value</span><br><span class="line">     * @param destKey must not be &#123;@literal null&#125;.</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    Boolean move(K key, V value, K destKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 返回结合的大小</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @return</span><br><span class="line">     * @see &lt;a href=&quot;http://redis.io/commands/scard&quot;&gt;Redis Documentation: SCARD&lt;/a&gt;</span><br><span class="line">     */</span><br><span class="line">    Long size(K key);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 检查集合中是否包含某个元素</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param o</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    Boolean isMember(K key, Object o);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另一个集合的交集</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param otherKey must not be &#123;@literal null&#125;.</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    Set&lt;V&gt; intersect(K key, K otherKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     *求指定集合与另外多个个集合交集</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param otherKeys 不能为null</span><br><span class="line">     * @return</span><br><span class="line">     * @see &lt;a href=&quot;http://redis.io/commands/sinter&quot;&gt;Redis Documentation: SINTER&lt;/a&gt;</span><br><span class="line">     */</span><br><span class="line">    Set&lt;V&gt; intersect(K key, Collection&lt;K&gt; otherKeys);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另一个集合的交集，并且存储到目标集合中</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param otherKey 不能为null</span><br><span class="line">     * @param destKey 不能为null</span><br><span class="line">     * @return 返回目标集合的长度</span><br><span class="line">     */</span><br><span class="line">    Long intersectAndStore(K key, K otherKey, K destKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另外多个集合中的交集保存到目标集合</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param otherKeys 不能为null</span><br><span class="line">     * @param destKey 不能为null</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    Long intersectAndStore(K key, Collection&lt;K&gt; otherKeys, K destKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另一个集合的并集 并返回并集</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param otherKey 不能为null</span><br><span class="line">     * @return</span><br><span class="line">     * @see &lt;a href=&quot;http://redis.io/commands/sunion&quot;&gt;Redis Documentation: SUNION&lt;/a&gt;</span><br><span class="line">     */</span><br><span class="line">    Set&lt;V&gt; union(K key, K otherKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另外多个集合的并集 并返回并集</span><br><span class="line">     *</span><br><span class="line">     * @param key 不能为null</span><br><span class="line">     * @param otherKeys 不能为null</span><br><span class="line">     * @return</span><br><span class="line">     * @see &lt;a href=&quot;http://redis.io/commands/sunion&quot;&gt;Redis Documentation: SUNION&lt;/a&gt;</span><br><span class="line">     */</span><br><span class="line">    Set&lt;V&gt; union(K key, Collection&lt;K&gt; otherKeys);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     *求指定集合与另一个集合的并集，并保存到目标集合</span><br><span class="line">     */</span><br><span class="line">    Long unionAndStore(K key, K otherKey, K destKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     *求指定集合与另外多个集合的并集，并保存到目标集合</span><br><span class="line">     */</span><br><span class="line">    Long unionAndStore(K key, Collection&lt;K&gt; otherKeys, K destKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另一个集合的差集</span><br><span class="line">     */</span><br><span class="line">    Set&lt;V&gt; difference(K key, K otherKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另外多个集合的差集</span><br><span class="line">     */</span><br><span class="line">    Set&lt;V&gt; difference(K key, Collection&lt;K&gt; otherKeys);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另一个集合的差集，并保存到目标集合</span><br><span class="line">     */</span><br><span class="line">    Long differenceAndStore(K key, K otherKey, K destKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 求指定集合与另外多个集合的差集，并保存到目标集合</span><br><span class="line">     */</span><br><span class="line">    Long differenceAndStore(K key, Collection&lt;K&gt; otherKeys, K destKey);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取集合中的所有元素</span><br><span class="line">     */</span><br><span class="line">    Set&lt;V&gt; members(K key);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 随机获取集合中的一个元素</span><br><span class="line">     */</span><br><span class="line">    V randomMember(K key);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 随机返回集合中指定数量的元素</span><br><span class="line">     */</span><br><span class="line">    List&lt;V&gt; randomMembers(K key, long count);</span><br><span class="line"> @Test</span><br><span class="line">public void testSetAdd() &#123;</span><br><span class="line">    SetOperations&lt;String, Serializable&gt; operations = redisTemplate.opsForSet();</span><br><span class="line">    String key = &quot;user:label:1&quot;;</span><br><span class="line">    // 添加单个值</span><br><span class="line">    operations.add(key, &quot;帅气&quot;);</span><br><span class="line">    operations.add(key, &quot;大方&quot;);</span><br><span class="line"></span><br><span class="line">    // 添加多个值</span><br><span class="line">    operations.add(key, &quot;帅气&quot;, &quot;善良&quot;, &quot;高&quot;, &quot;富&quot;);</span><br><span class="line"></span><br><span class="line">    // 获取set中的值集合</span><br><span class="line">    Set&lt;Serializable&gt; values = operations.members(key);</span><br><span class="line">    System.out.println(&quot;values == &quot; + values);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;是否含有：富 == &quot; + operations.isMember(key, &quot;富&quot;));</span><br><span class="line">    System.out.println(&quot;是否含有：穷 == &quot; + operations.isMember(key, &quot;穷&quot;));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testSetRandom() &#123;</span><br><span class="line">    SetOperations&lt;String, Serializable&gt; operations = redisTemplate.opsForSet();</span><br><span class="line">    String key = &quot;user:label:1&quot;;</span><br><span class="line"></span><br><span class="line">    // 按照count个数随机返回，有可能有重复值</span><br><span class="line">    List&lt;Serializable&gt; randomList = operations.randomMembers(key, 3);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;randomList == &quot; + JSONObject.toJSONString(randomList));</span><br><span class="line"></span><br><span class="line">    // 按照count个数随机返回，没有重复值</span><br><span class="line">    Set&lt;Serializable&gt; distinctRandomSet = operations.distinctRandomMembers(key, 3);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;distinctRandomSet == &quot; + JSONObject.toJSONString(distinctRandomSet));</span><br><span class="line"></span><br><span class="line">    // 随机返回一个值</span><br><span class="line">    String randomValue = (String) operations.randomMember(key);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;randomValue == &quot; + randomValue);</span><br><span class="line"></span><br><span class="line">    // 获取key对应值的个数</span><br><span class="line">    System.out.println(&quot;size == &quot; + operations.size(key));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testSetMove() &#123;</span><br><span class="line">    SetOperations&lt;String, Serializable&gt; operations = redisTemplate.opsForSet();</span><br><span class="line">    String key = &quot;user:label:1&quot;;</span><br><span class="line">    String key2 = &quot;user:label:2&quot;;</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;values == &quot; + operations.members(key));</span><br><span class="line">    // 移除给定的值，返回成功的个数</span><br><span class="line">    Long successNum = operations.remove(key, &quot;高&quot;, &quot;穷&quot;);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;successNum == &quot; + successNum);</span><br><span class="line">    System.out.println(&quot;values == &quot; + operations.members(key));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    operations.move(key, &quot;富&quot;, key2);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;values == &quot; + operations.members(key));</span><br><span class="line">    System.out.println(&quot;values == &quot; + operations.members(key2));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testSetIntersect() &#123;</span><br><span class="line">    SetOperations&lt;String, Serializable&gt; operations = redisTemplate.opsForSet();</span><br><span class="line">    String key = &quot;user:label:3&quot;;</span><br><span class="line">    String key2 = &quot;user:label:4&quot;;</span><br><span class="line">    String key3 = &quot;user:label:5&quot;;</span><br><span class="line">    String key4 = &quot;user:label:6&quot;;</span><br><span class="line">    String key5 = &quot;user:label:7&quot;;</span><br><span class="line"></span><br><span class="line">    operations.add(key, &quot;帅&quot;, &quot;善良&quot;, &quot;高&quot;, &quot;富&quot;);</span><br><span class="line">    operations.add(key2, &quot;帅&quot;, &quot;善良&quot;, &quot;高&quot;, &quot;富&quot;, &quot;才华&quot;, &quot;白&quot;);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;values == &quot; + operations.members(key));</span><br><span class="line">    System.out.println(&quot;values == &quot; + operations.members(key2));</span><br><span class="line"></span><br><span class="line">    // 取交集并返回</span><br><span class="line">    Set&lt;Serializable&gt; intersectSet = operations.intersect(key, key2);</span><br><span class="line"></span><br><span class="line">    // 取key和key2的交集赋给key3</span><br><span class="line">    operations.intersectAndStore(key, key2, key3);</span><br><span class="line"></span><br><span class="line">    // 取key和key2的并集并返回</span><br><span class="line">    Set&lt;Serializable&gt; unionSet = operations.union(key, key2);</span><br><span class="line"></span><br><span class="line">    // 取key和key2的并集赋给key3</span><br><span class="line">    operations.unionAndStore(key, key2, key3);</span><br><span class="line"></span><br><span class="line">    // key对key2求差赋给key4</span><br><span class="line">    operations.differenceAndStore(key, key2, key4);</span><br><span class="line">    // key2对key求差赋给key5</span><br><span class="line">    operations.differenceAndStore(key2, key, key5);</span><br><span class="line"></span><br><span class="line">    System.out.println(&quot;intersectSet == &quot; + JSONObject.toJSONString(intersectSet));</span><br><span class="line">    System.out.println(&quot;unionSet == &quot; + JSONObject.toJSONString(unionSet));</span><br><span class="line">    System.out.println(&quot;key3 == &quot; + JSONObject.toJSONString(operations.members(key3)));</span><br><span class="line">    System.out.println(&quot;key4 == &quot; + JSONObject.toJSONString(operations.members(key4)));</span><br><span class="line">    System.out.println(&quot;key5 == &quot; + JSONObject.toJSONString(operations.members(key5)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZSetOperations"><a href="#ZSetOperations" class="headerlink" title="ZSetOperations"></a>ZSetOperations</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testZSetAdd() &#123;</span><br><span class="line">    ZSetOperations&lt;String, Serializable&gt; operations =redisTemplate.opsForZSet();</span><br><span class="line">    String key = &quot;weibo:hot&quot;;</span><br><span class="line">    // 添加值</span><br><span class="line">    operations.add(key, &quot;郑州&quot;, 100);</span><br><span class="line">    operations.add(key, &quot;开封&quot;, 90);</span><br><span class="line">    operations.add(key, &quot;登封&quot;, 95);</span><br><span class="line">    operations.add(key, &quot;巩义&quot;, 85);</span><br><span class="line">    operations.add(key, &quot;中牟&quot;, 89);</span><br><span class="line"></span><br><span class="line">    // 获取值的范围，end = -1表示全部,从小到大</span><br><span class="line">    Set&lt;Serializable&gt; valueSet = operations.range(key, 0, -1);</span><br><span class="line">    System.out.println(&quot;valueSet == &quot; + valueSet);</span><br><span class="line"></span><br><span class="line">    // 获取值的范围，end = -1表示全部,从大到小</span><br><span class="line">    Set&lt;Serializable&gt; valueReverseSet = operations.reverseRange(key, 0, -1);</span><br><span class="line">    System.out.println(&quot;valueReverseSet == &quot; + valueReverseSet);</span><br><span class="line"></span><br><span class="line">    // 获取分数从min到max之间,从小到大</span><br><span class="line">    System.out.println(&quot;rangeByScore == &quot; + operations.rangeByScore(key, 90, 100));</span><br><span class="line">    // 获取分数从min到max之间,从大到小</span><br><span class="line">    System.out.println(&quot;reverseRangeByScore&quot; + operations.reverseRangeByScore(key, 90, 100));</span><br><span class="line"></span><br><span class="line">    // 获取下标，排序从小到大</span><br><span class="line">    System.out.println(&quot;rank == &quot; + operations.rank(key, &quot;开封&quot;));</span><br><span class="line">    // 获取下标，排序从大到小</span><br><span class="line">    System.out.println(&quot;reverseRank == &quot; + operations.reverseRank(key, &quot;开封&quot;));</span><br><span class="line">    // 获取分数从min到max的总数</span><br><span class="line">    System.out.println(&quot;count == &quot; + operations.count(key,90, 100));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h2><p>表：code，只需要查中文的language &#x3D; zh_CN，is_deleted &#x3D;0</p>
<h3 id="List-listByCategory-String-pool-String-category"><a href="#List-listByCategory-String-pool-String-category" class="headerlink" title="List listByCategory(String pool, String category)"></a>List<Code> listByCategory(String pool, String category)</h3><p>根据pool和category获取category中的列表返回值包含code和name(使用缓存)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">        `code`,</span><br><span class="line">        `name` </span><br><span class="line">FROM</span><br><span class="line">        `code` </span><br><span class="line">WHERE</span><br><span class="line">        LANGUAGE = &#x27;zh_CN&#x27; </span><br><span class="line">        AND is_deleted = 0 </span><br><span class="line">        AND pool = &#x27;opms&#x27; </span><br><span class="line">        AND category = &#x27;CONTRACT_CHANGE_USER_TYPE&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="String-getNameByCode-String-pool-String-category-String-code"><a href="#String-getNameByCode-String-pool-String-category-String-code" class="headerlink" title="String getNameByCode(String pool,  String category , String code)"></a>String getNameByCode(String pool,  String category , String code)</h3><p>根据pool，category，code获取name(使用缓存)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">        `code`,</span><br><span class="line">        `name` </span><br><span class="line">FROM</span><br><span class="line">        `code` </span><br><span class="line">WHERE</span><br><span class="line">        LANGUAGE = &#x27;zh_CN&#x27; </span><br><span class="line">        AND is_deleted = 0 </span><br><span class="line">        AND pool = &#x27;opms&#x27; </span><br><span class="line">        AND category = &#x27;CONTRACT_CHANGE_USER_TYPE&#x27;</span><br><span class="line">        AND `code` = 1;</span><br></pre></td></tr></table></figure>



<h3 id="修改和获取用户标签"><a href="#修改和获取用户标签" class="headerlink" title="修改和获取用户标签"></a>修改和获取用户标签</h3><p>表：u_user_identity</p>
<p>字段：ext_field1，存放的数据类型是json数组。例如：["高"， "富"]</p>
<ul>
<li>提供更新接口。更新时，更新u_user_identity.ext_field1，同时更新缓存</li>
<li>提供获取标签接口。获取时，先从缓存获取，如果缓存没有从表里获取。缓存有效时间5分钟</li>
</ul>
<h3 id="热搜"><a href="#热搜" class="headerlink" title="热搜"></a>热搜</h3><p>提供test用例</p>
<ul>
<li><p>可以修改热搜的排名</p>
</li>
<li><p>获取10条热搜，支持正序和反序</p>
</li>
<li><p>可以删除热搜</p>
</li>
</ul>
<p>redis缓存机制可以控制一个用户只能点赞一次</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public String addLike(String id, LikeInfo likeInfos) &#123;</span><br><span class="line">        Query query = new Query(Criteria.where(&quot;_id&quot;).is(id));</span><br><span class="line">        likeInfos.setId(idUtils.getRentId());</span><br><span class="line">        //likeInfos.setUserId(idUtils.getRentId());</span><br><span class="line">        String userId=likeInfos.getUserId();</span><br><span class="line">        if(redisTemplate.opsForValue().get(&quot;likeInfos&quot;+userId)!=null)&#123;</span><br><span class="line">            return &quot;请不要重复点赞&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        Update update = new Update();</span><br><span class="line">        update.push(&quot;likeInfo&quot;, likeInfos);</span><br><span class="line">        mongoTemplate.updateFirst(query, update, Article.class);</span><br><span class="line">        redisTemplate.opsForValue().set(&quot;likeInfos&quot;+userId,&quot;已点赞&quot;);</span><br><span class="line">        return &quot;点赞成功&quot;;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/%E7%AC%AC%E4%B9%9D%E8%8A%82%EF%BC%9Aspringboot%E9%9B%86%E6%88%90redis%E5%8F%8A%E4%BD%BF%E7%94%A8/" data-id="cl4vgwmaa000tu8gvb11ngpot" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Windows" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/Windows/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.785Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h1><h2 id="cmd命令"><a href="#cmd命令" class="headerlink" title="cmd命令"></a>cmd命令</h2><ul>
<li>查看所有端口占用情况：netstat -ano</li>
<li>查看被占用端口对应的PID：netstat -aon|findstr “49157”</li>
<li>查看是哪个进程或者程序占用了这个端口：tasklist|findstr “2720”</li>
<li>杀死此进程：taskkill &#x2F;f &#x2F;t &#x2F;im Tencentdl.exe</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/Windows/" data-id="cl4vgwm9q0009u8gvew68clat" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Zookeeper" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/Zookeeper/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.785Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Zookeeper"><a href="#Zookeeper" class="headerlink" title="Zookeeper"></a>Zookeeper</h1><h2 id="概念："><a href="#概念：" class="headerlink" title="概念："></a>概念：</h2><p>Zookeeper：从设计模式角度来理解：它是一个基于观察者模式设计的分布式服务管理框架，它负责存储和管理大家都关心的数据，然后接受观察者的注册，一旦这些数据的状态发生变化，Zookeeper就将负责通知已经在zookeeper上注册的那些观察者做出相应的反应，如图：各个服务器启动时在zookeeper中注册信息，客户端获取当前在线的服务器列表信息，并且注册监听，当有服务器下线时，zookeeper负责通知客户端有服务器下线，客户端再重新获取服务器列表并注册监听</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210726114611864.png" alt="image-20210726114611864"></p>
<h2 id="zookeeper的特点："><a href="#zookeeper的特点：" class="headerlink" title="zookeeper的特点："></a>zookeeper的特点：</h2><ul>
<li>一个领导者，多个跟随者组成的服务器集群</li>
<li>集群中只要有半数以上的结点存活，zookeeper集群就能正常服务</li>
<li>全局数据一致：每个server保存哟分相同的数据副本，client无论连接到哪个server，数据都是一致的 </li>
<li>更新请求顺序执行，来自同一个client的更新请求按其发送顺序依次执行</li>
<li>数据更新原子性，一次数据更新要么成功，要么失败</li>
<li>实时性， 在一定时间范围内，client能读到最新数据</li>
</ul>
<h2 id="zookeeper数据结构"><a href="#zookeeper数据结构" class="headerlink" title="zookeeper数据结构"></a>zookeeper数据结构</h2><p>zookeeper数据模型的结构与Unix文件系统很类似，整体上可以看做是一棵树，每个结点称作一个ZNode。每个ZNode默认能够存储1MB的数据，每个ZNode都可以通过其路径唯一标识。</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210727203903983.png" alt="image-20210727203903983"></p>
<h3 id="统一命名服务"><a href="#统一命名服务" class="headerlink" title="统一命名服务"></a>统一命名服务</h3><p>在分布式环境下，经常</p>
<h3 id="统一配置管理"><a href="#统一配置管理" class="headerlink" title="统一配置管理"></a>统一配置管理</h3><p>分布式环境下，配置文件同步非常常见</p>
<p>1,一般要求一个集群中，所有节点的配置信息是一致的</p>
<p>2，对配置文件修改后，希望能快速同步到各个节点上</p>
<p>配置管理可交由zookeeper实现</p>
<p>1，可将配置信息写入zookeeper上的一个Znode</p>
<p>2，各个服务器将监听这个znode</p>
<p>3，一旦znode中的数据被修改，zookeeper将通知各个服务端服务器</p>
<p>192.168.10.100  hadoop100</p>
<p>192.168.10.101  hadoop101</p>
<p>192.168.10.102  hadoop102</p>
<p>192.168.10.103  hadoop103</p>
<p>192.168.10.104  hadoop104</p>
<p>192.168.10.105  hadoop105	</p>
<p>192.168.10.106  hadoop106</p>
<p>192.168.10.107  hadoop107</p>
<p>修改zookeeper启动端口，注意不是服务端口</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">zookeeper运行需要java环境所以必须先装JDK安装zookeeper后, 发现端口8080被占用, 分享如何解决.</span><br><span class="line">zookeeper部署后, 3.5以后的版本, 会自动占用8080端口. 需要修改配置文件.</span><br><span class="line"> </span><br><span class="line"> a,查看端口占用</span><br><span class="line">    netstat -nap|grep 8080</span><br><span class="line">  b,查看端口占用的进程</span><br><span class="line">     ps -aux |grep 27672</span><br><span class="line">  发现, 8080端口被zookeeper占用.   </span><br><span class="line"></span><br><span class="line">   vim /usr/local/zookeeper/zookeeper-3.5.8/conf/zoo.cfg</span><br><span class="line">   添加内容或者修改内容</span><br><span class="line">   admin.serverPort=8887</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/Zookeeper/" data-id="cl4vgwma1000iu8gv48mrfhza" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-webSocket" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/webSocket/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.785Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h1><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>​		webSocket是HTML5开始提供的一种浏览器和服务器之间进行全双工通信的网络技术，在 WebSocket API 中，浏览器和服务器只需要要做一个握手的动作，然后，浏览器和服务器之间就形成了一条快速通道。两者之间就直接可以数据互相传送。</p>
<ul>
<li>WebSocket 是 HTML5 中提出的新的网络协议标准，其包含几个特点：<ul>
<li>建立与TCP协议基础上的应用层</li>
<li>一旦建立连接（直到断开或者出错），服务端与客户端握手后则一直保持连接状态，是持久化状态；</li>
<li>服务端可通过实时通道主动下发消息；</li>
<li>数据接收的实时性和时序性</li>
<li>较少的控制开销，连接创建后，ws客户端、服务端进行数据交换时，协议控制的数据包头部较小</li>
<li>支持扩展。ws协议定义了扩展，用户可以扩展协议，或者实现自定义的子协议（比如支持自定义压缩算法等）</li>
</ul>
</li>
</ul>
<h3 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h3><ul>
<li><p>在支持WebSocket的浏览器中会提供原生的WebSocket对象，其中对于消息的接收和数据帧处理在浏览器中已经封装好了</p>
</li>
<li><p>使用new关键字实例化一个webSocket:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> webSocket = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="title class_">String</span> url,optional <span class="title class_">String</span> | [] protocols);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>url 表示需要连接的地址，比如：ws:&#x2F;&#x2F;localhost:8080；</p>
</li>
<li><p>protocols：可选参数，可以是一个字符串或者一个数组，用来表示子协议，这样可以让一个服务器实现多种WebSocket子协议</p>
</li>
<li><p>send 接收一个 String|ArrayBuffer|Blob 数据，作为数据发送到服务端</p>
<p><strong>bolb</strong>表示一个不可变得、原始数据的类文件对象，它的数据可以按文本或二进制的格式进行读取，也可以转换成 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/ReadableStream"><code>ReadableStream</code></a> 来用于数据操作。 </p>
</li>
<li><p>close 接收一个（可选）的 code（关闭状态号，默认为 1000） 与一个（可选）的字符串（表示断开原因），客户端主动断开连接</p>
</li>
</ul>
</li>
<li><p>WebSocket 类提供了一些常量表示连接状态：</p>
<ul>
<li>WebSocket.CONNECTING 0 ：连接还没开启；</li>
<li>WebSocket.OPEN 1 ：连接已开启并准备好进行通信；</li>
<li>WebSocket.CLOSING 3 ：连接正在关闭的过程中；</li>
<li>WebSocket.CLOSED 4 ：连接已经关闭，或者连接无法建立；</li>
<li>WebSocket 的实例对象中提供了 readyState 属性来判断当前状态；</li>
</ul>
</li>
<li><p>实例化的对象可以监听到以下事件：</p>
<ul>
<li>open：连接打开的回调事件，这时候readyState变为OPEN</li>
<li>message：收到的回调事件，同时回调函数收到一个MessageEvent数据</li>
<li>close：连接关闭的回调事件，这时候readyState变为CLOSED</li>
<li>error：建立连接过程发生错误的回调事件</li>
</ul>
</li>
</ul>
<h3 id="事件与数据"><a href="#事件与数据" class="headerlink" title="事件与数据"></a>事件与数据</h3><ul>
<li>对webSocket实例监听有两种方式，这里以message事件为例：<ul>
<li>对 onmessage 属性直接赋值，正如以上：ws.onmessage &#x3D; function () {};</li>
<li>使用 addEventListener 监听事件，如：ws.addEventListener(‘message’, function () {})；</li>
</ul>
</li>
</ul>
<h3 id="连接稳定性"><a href="#连接稳定性" class="headerlink" title="连接稳定性"></a>连接稳定性</h3><ul>
<li>由于网络环境负责，某些情况会出现断开连接或者连接出错，需要我们在close或者error时间中监听非正常断开并重连</li>
<li>由于一些原因在error时浏览器并不会响应回调事件，因此稳妥的做法还需要在open之后来开启一个定时任务去判断当前的连接状态readyState，在出现异常时尝试重连</li>
</ul>
<h3 id="心跳"><a href="#心跳" class="headerlink" title="心跳"></a>心跳</h3><ul>
<li>webSocket规范定义了心跳机制，一方可以通过发送ping消息给另一方，另一方收到ping后应该尽可能块的返回pong</li>
<li>心跳机制是用于检测连接的对方在线状态，应此如果没有心跳，那么无法判断一方还在连接状态中，一些网络层比如 nginx 或者浏览器层会主动断开连接</li>
<li>在 JavaScript 中，WebSocket 并没有开放 ping&#x2F;pong 的 API ，虽然浏览器自带了心跳处理，然而不同厂商的实现也不尽相同，因此需要在我们开发时候与服务端约定好一个自实现的心跳机制；</li>
</ul>
<h3 id="网络协议"><a href="#网络协议" class="headerlink" title="网络协议"></a>网络协议</h3><p>Websocket 连接分为建连阶段与连接阶段，在建立连接阶段借助于 HTTP ，而在连接阶段则与 HTTP 无关。</p>
<ul>
<li><p>建立连接</p>
<p>重点请求首部意义如下：</p>
<ul>
<li>Connection: Upgrade：表示要升级协议</li>
<li>Upgrade: websocket：表示要升级到websocket协议。</li>
<li>Sec-WebSocket-Version: 13：表示websocket的版本。如果服务端不支持该版本，需要返回一个Sec-WebSocket-Versionheader，里面包含服务端支持的版本号。</li>
<li>Sec-WebSocket-Key ：是一个 Base64 encode 的值，由浏览器随机生成的，用于验证服务器连接的正确性；与后面服务端响应首部的Sec-WebSocket-Accept是配套的，提供基本的防护，比如恶意的连接，或者无意的连接。</li>
<li>Connection 为 Upgrade ，Upgrade 为 websocket ，表示告知 Nginx 与 Apache 等服务器该次连接并非为 HTTP 连接，实质上是一个 websocket ，因此服务器会转发到相应的 websocket 任务处理；</li>
<li>Sec-WebSocket-Versio 表示为使用的 websocket 服务版本；</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/webSocket/" data-id="cl4vgwma7000qu8gv12f2co1c" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SpringMVC" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/SpringMVC/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.769Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h1><h2 id="IOC容器"><a href="#IOC容器" class="headerlink" title="IOC容器"></a>IOC容器</h2><p>控制反转，管理所有的组件（有功能的类），由主动的new资源变为 被动获取</p>
<h2 id="DI"><a href="#DI" class="headerlink" title="DI"></a>DI</h2><p>：依赖注入 ‘</p>
<ul>
<li><p>容器中对象的创建是容器创建是就已经创建好的</p>
</li>
<li><p>同一个组件在IOC容器中是单实例的</p>
</li>
<li><p>IOC在创建这个组件对象的时候，property会利用setter方法为javaBean的属性进行赋值</p>
<p>使用property注入bean：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;person&quot; class=&quot;com.sfag.bean.Person&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;name&quot; value=&quot;张三&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;property name=&quot;password&quot; value=&quot;89412&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;property name=&quot;age&quot; value=&quot;12&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;property name=&quot;address&quot; value=&quot;苏州&quot;&gt;&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>使用有参构造器注入bean：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;person01&quot; class=&quot;com.sfag.bean.Person&quot;&gt;</span><br><span class="line">	&lt;constructor-arg name=&quot;name&quot; value=&quot;李四&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">	&lt;constructor-arg name=&quot;password&quot; value=&quot;lisi&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">	&lt;constructor-arg name=&quot;age&quot; value=&quot;88&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">	&lt;constructor-arg name=&quot;address&quot; value=&quot;张家港&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>使用namespace注入Bean：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;person02&quot; class=&quot;com.sfag.bean.Person&quot; p:name=&quot;王五&quot; p:password=&quot;789456&quot; p:age=&quot;99&quot; p:address=&quot;上海&quot;&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>在配置文件中注入不同属性的对象：</p>
<p>List类型：</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210725163829802.png" alt="image-20210725163829802"></p>
<p>map类型:</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210725163914768.png" alt="image-20210725163914768"></p>
<p>properties类型:</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210725163748535.png" alt="image-20210725163748535"></p>
<h1 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h1><p>注解：<br>@RequestParam，来映射请求参数</p>
<ul>
<li>value：值即请求的参数名</li>
<li>required：该参数是否必须，默认为true</li>
<li>defaultValue：请求默认的参数</li>
</ul>
<p>@RequestHeader：映射请求头 信息</p>
<p>@CookieValue：映射一个Cookie值</p>
<p><strong>springMVC注解</strong></p>
<p>1，@RequestMapping(“”)</p>
<p>2，@PathVariable (“url中的占位符”)： 此注解可以用来映射URL中的占位符到目标方法的参数中</p>
<p>3，@Rest：表现层状态转化      </p>
<p>Get（获取），Post（新建），Put（更新），Delete（删除）      </p>
<p>如何发送put和delete请求？             </p>
<ul>
<li>需要配置HiddenHttpMethodFilter             </li>
<li>需要发送POST请求             </li>
<li>需要在POST请求时携带一个name&#x3D;“_method”的隐藏域，值为PUT或DELETE 4，</li>
</ul>
<p>4，@RequsetParam：映射请求的参数            </p>
<p>属性值               </p>
<ul>
<li>value：请求参数的参数名               </li>
<li>required：默认为true，表示该参数是必须要填的               </li>
<li>defaultValue：请求参数的默认值</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/SpringMVC/" data-id="cl4vgwm9r000au8gvbno9gngo" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-vue" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/26/vue/" class="article-date">
  <time class="dt-published" datetime="2022-06-26T14:10:59.769Z" itemprop="datePublished">2022-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><h2 id="一、概念"><a href="#一、概念" class="headerlink" title="一、概念"></a>一、概念</h2><p>只关心视图层</p>
<h3 id="1、特点"><a href="#1、特点" class="headerlink" title="1、特点"></a>1、特点</h3><ul>
<li>遵循MVVM模式</li>
<li>编码简洁，体积小，运行效率高，适合移动&#x2F;pc端开发</li>
<li>本身只关注UI，可以轻松引入vue插件或其他第三方开发项目</li>
</ul>
<h3 id="2、概念"><a href="#2、概念" class="headerlink" title="2、概念"></a>2、概念</h3><p>Vue：一套基于构建用户界面的渐进式框架，可以自底层向上逐层应用</p>
<p>MVVM模式：Model-View-ViewModel，是一种简化用户界面的事件驱动编程方式，来源于经典的MVC（Model-View-Controller）模式，MVVM的核心是ViewModel层，负责转换Model层中的数据对象来让数据变得更容易管理和使用	</p>
<p>MVVM模式的好处：主要目的是分离视图view和模型model</p>
<ul>
<li>低耦合</li>
<li>可复用</li>
<li>独立开发</li>
<li>可测试</li>
</ul>
<p>Model层：模型层，在这里表示JavaScript对象</p>
<p>View：视图层，在这里表示DOM（HTML操作的元素）</p>
<p>ViewModel：连接视图和数据的中间件，vue.js就是MVVM中ViewModel层的实现者，它的核心就是实现了DOM监听与数据绑定</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210812201056354.png" alt="image-20210812201056354"></p>
<h3 id="3、vue扩展插件"><a href="#3、vue扩展插件" class="headerlink" title="3、vue扩展插件"></a>3、vue扩展插件</h3><ol>
<li>vue-cli：vue脚手架。搭建前端项目的框架结构</li>
<li>vue-routing：控制页面跳转</li>
</ol>
<h3 id="4、第一个vue程序"><a href="#4、第一个vue程序" class="headerlink" title="4、第一个vue程序"></a>4、第一个vue程序</h3><ul>
<li>导入vue.js</li>
</ul>
<h3 id="5、指令"><a href="#5、指令" class="headerlink" title="5、指令"></a>5、指令</h3><p>指令带有前缀v-，表示他们是Vue提供的特殊属性</p>
<ul>
<li><p>v-if：</p>
</li>
<li><p>v-else：</p>
</li>
<li><p>数据绑定</p>
<ul>
<li><p>单向绑定：v-bind：绑定，可简写为”  ：”；</p>
</li>
<li><p>双向绑定：v-model：只能应用于表单类元素中（输入类元素）</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210814165929377.png" alt="image-20210814165929377"></p>
</li>
</ul>
</li>
<li><p>v-on：当什么什么的时候，可以简写为@</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210814173438868.png" alt="image-20210814173438868"></p>
</li>
<li><p>v-model：</p>
<p>修饰符：number：</p>
<p>prevent：事件绑定时阻止页面的默认操作</p>
<p>​</p>
</li>
</ul>
<p>				</p>
<h3 id="6、vue的七个常用属性"><a href="#6、vue的七个常用属性" class="headerlink" title="6、vue的七个常用属性"></a>6、vue的七个常用属性</h3><ul>
<li>el属性：用来指示vue编译器从什么地方来开始解析vue的语法，可以说是一个占位符</li>
<li>data</li>
<li>template</li>
<li>methods</li>
<li>render</li>
<li>computed</li>
<li>watch</li>
</ul>
<h3 id="7、组件"><a href="#7、组件" class="headerlink" title="7、组件"></a>7、组件</h3><p>可复用的vue实例，就是一组可重复使用的模板</p>
<p>组件化的编码流程：</p>
<ol>
<li>实现静态组件：抽取组件，使用组件实现静态页面效果</li>
<li>展示动态组件<ul>
<li>数据的类型，名称是什么</li>
<li>数据保存在哪个组件</li>
</ul>
</li>
<li>交互——从绑定时间监听开始</li>
</ol>
<h4 id="7-1-组件化开步骤："><a href="#7-1-组件化开步骤：" class="headerlink" title="7,1 组件化开步骤："></a>7,1 组件化开步骤：</h4><ol>
<li><p>创建组件（组件中使用data必须写成函数式，template：配置组件的结构）</p>
</li>
<li><p>注册组件</p>
<ul>
<li><p>局部注册：components:{</p>
<p>​							组件名</p>
<p>​					}</p>
</li>
<li><p>全局注册：Vue.compoent{‘组件路径’，组件名}</p>
</li>
</ul>
</li>
<li><p>编写组件标签</p>
</li>
</ol>
<p>编写组件的几个注意点：</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210817105510402.png" alt="image-20210817105510402"></p>
<p>el和data的两种写法：</p>
<p>第一种：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">el：#root，</span><br><span class="line"></span><br><span class="line">data：&#123;</span><br><span class="line"></span><br><span class="line">​	name: &#x27;sfag&#x27;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二种：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$mount(&#x27;#root&#x27;)</span><br><span class="line"></span><br><span class="line">data: function（）&#123;</span><br><span class="line"></span><br><span class="line">​	return&#123;</span><br><span class="line"></span><br><span class="line">​		name: &#x27;sfag&#x27;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="8、Axios"><a href="#8、Axios" class="headerlink" title="8、Axios"></a>8、Axios</h3><p>是一个开源的可以用在浏览器和NodeJS的异步通信框架</p>
<p>功能特点：</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210813095147808.png" alt="image-20210813095147808"></p>
<h3 id="9、计算属性"><a href="#9、计算属性" class="headerlink" title="9、计算属性"></a>9、计算属性</h3><p>突出在属性两个字上，首先它是个属性，其次要有计算的能能力，计算就是一个函数，它就是一个能将计算结果缓存起来的属性、</p>
<h3 id="10、模板语法"><a href="#10、模板语法" class="headerlink" title="10、模板语法"></a>10、模板语法</h3><p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210814164901011.png" alt="image-20210814164901011"></p>
<h3 id="11、数据代理"><a href="#11、数据代理" class="headerlink" title="11、数据代理"></a>11、数据代理</h3><p>定义：通过一个对象代理对另一个对象中属性的操作（读、写）</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210814172353063.png" alt="image-20210814172353063"></p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210814172601141.png" alt="image-20210814172601141"></p>
<h3 id="12、事件处理"><a href="#12、事件处理" class="headerlink" title="12、事件处理"></a>12、事件处理</h3><p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210814174224223.png" alt="image-20210814174224223"></p>
<h3 id="13、不同版本的vue"><a href="#13、不同版本的vue" class="headerlink" title="13、不同版本的vue"></a>13、不同版本的vue</h3><p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210815151432925.png" alt="image-20210815151432925"></p>
<h2 id="二、工程"><a href="#二、工程" class="headerlink" title="二、工程"></a>二、工程</h2><h3 id="1、创建工程"><a href="#1、创建工程" class="headerlink" title="1、创建工程"></a>1、创建工程</h3><p>选择工程位置cmd运行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack  +项目名</span><br></pre></td></tr></table></figure>

<p>安装依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router --save-dev//安装路由</span><br><span class="line"></span><br><span class="line">npm i element-ui -S //安装element-ui</span><br><span class="line"></span><br><span class="line">npm install //安装依赖</span><br><span class="line"></span><br><span class="line">npm install sass-loader node-sass --save-dev //安装sass加载器</span><br><span class="line"></span><br><span class="line">npm run dev //启动工程</span><br></pre></td></tr></table></figure>

<p>新建项目警告：</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210814105717804.png" alt="image-20210814105717804"></p>
<p>嵌套路由：</p>
<p><img src="C:\Users\SFAG\AppData\Roaming\Typora\typora-user-images\image-20210814133902892.png" alt="image-20210814133902892"></p>
<h1 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h1><h3 id="1、跨域问题"><a href="#1、跨域问题" class="headerlink" title="1、跨域问题"></a>1、跨域问题</h3><ul>
<li>跨域：浏览器不能执行其他网站的脚本，也就是前后端代码运行在不同服务器上时就会出现跨域问题，是由浏览器的同源策略造成的，是浏览器对JavaScript施加的安全限制</li>
<li>解决方案<ul>
<li><p>方案1：使用Ajax的jsonp来解决（只能使用get请求）</p>
</li>
<li><p>方案2：使用JQuery的jsonp插件（对于get、post请求不做要求，但是从后台发来的消息依旧是jsonp格式的数据）</p>
</li>
<li><p>方案3：使用cors</p>
</li>
<li><p>后端程序中添加java文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> &#123;</span><br><span class="line">		registry.addMapping(<span class="string">&quot;/**&quot;</span>)</span><br><span class="line">			.allowedOriginPatterns(<span class="string">&quot;*&quot;</span>)</span><br><span class="line">				.allowedMethods(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;POST&quot;</span>,<span class="string">&quot;PUT&quot;</span>,<span class="string">&quot;OPTIONS&quot;</span>,<span class="string">&quot;DELETE&quot;</span>,<span class="string">&quot;PATCH&quot;</span>)</span><br><span class="line">				.allowedHeaders(<span class="string">&quot;*&quot;</span>)</span><br><span class="line">				.allowCredentials(<span class="literal">true</span>)</span><br><span class="line">				.maxAge(<span class="number">3600</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>mock数据：指前后端同时开发的时候，后端接口数据没有出来，前端可以mock假数据，模拟开发；</p>
<ul>
<li><p>优势：</p>
<ul>
<li>团队可以并行工作</li>
<li>开启TDD模式，即测试驱动开发</li>
<li>隔离系统，不用请求数据库中的数据，以免污染数据库中的数据</li>
<li>可以用来演示</li>
<li>测试覆盖率</li>
</ul>
</li>
<li><p>mock数据的几种方式</p>
<ul>
<li><p>直接在页面写死数据，后期改为动态数据后悔比较麻烦</p>
</li>
<li><p>在js里直接声明变量，并给变量赋值，在逻辑脚本中使用，并渲染到dom;</p>
</li>
<li><p>将模拟数据编辑成json数据或者是零碎的js脚本中，通过请求，取回数据，并进行业务逻辑处理，渲染到dom</p>
</li>
<li><p>- 前后台在需求分解之后，一起定义好接口api，包含：请求url（项目前缀+具体的接口名称）、请求方式、请求参数、数据响应； </p>
<p>- 前端研发人员根据接口约定，模拟请求返回对应的数据，完成对应的交互； </p>
<p>- 后台人员根据接口约定，完成对应的api，并完成对应的自测； </p>
<p>- 待后台人员交付接口api后，前端人员直接修改接口项目前缀，切换到对应的环境，即可进入项目提测。</p>
<hr>
</li>
</ul>
</li>
</ul>
<p>vue-element-admin基础框架：<a target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-element-admin">https://github.com/PanJiaChen/vue-element-admin</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/26/vue/" data-id="cl4vgwma5000nu8gvashhgn9k" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/06/26/RabbitMQ%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/06/26/redis/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/06/26/Nginx/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/06/26/PMO%E6%9D%83%E9%99%90%E8%AE%BE%E8%AE%A1/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/06/26/ody-db/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 shangguandanyu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>